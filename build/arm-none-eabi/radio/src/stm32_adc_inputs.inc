//
// WARNING: DO NOT EDIT THIS FILE
//   This file has been generated from the target's JSON hardware description
//

#include "stm32_gpio.h"

static const stm32_adc_input_t _ADC_inputs[] = {
  {
    // LH
    // ADC_INPUT_STICK,
    nullptr,
    0,
    0,
    0 // normal
  },
  {
    // LV
    // ADC_INPUT_STICK,
    nullptr,
    0,
    0,
    0 // normal
  },
  {
    // RV
    // ADC_INPUT_STICK,
    nullptr,
    0,
    0,
    0 // normal
  },
  {
    // RH
    // ADC_INPUT_STICK,
    nullptr,
    0,
    0,
    0 // normal
  },
  {
    // P1
    // ADC_INPUT_FLEX,
    GPIOA,
    LL_GPIO_PIN_2,
    LL_ADC_CHANNEL_2,
    1 // inverted
  },
  {
    // P2
    // ADC_INPUT_FLEX,
    GPIOA,
    LL_GPIO_PIN_3,
    LL_ADC_CHANNEL_3,
    1 // inverted
  },
  {
    // SL1
    // ADC_INPUT_FLEX,
    GPIOB,
    LL_GPIO_PIN_0,
    LL_ADC_CHANNEL_8,
    0 // normal
  },
  {
    // SL2
    // ADC_INPUT_FLEX,
    GPIOA,
    LL_GPIO_PIN_5,
    LL_ADC_CHANNEL_5,
    1 // inverted
  },
  {
    // VBAT
    // ADC_INPUT_VBAT,
    GPIOC,
    LL_GPIO_PIN_0,
    LL_ADC_CHANNEL_10,
    0 // normal
  },
  {
    // RTC_BAT
    // ADC_INPUT_RTC_BAT,
    nullptr,
    0,
    LL_ADC_CHANNEL_VBAT,
    0 // normal
  },
};

static const uint8_t _ADC_MAIN_channels[] = {
    0, // LH
    1, // LV
    2, // RV
    3, // RH
    4, // P1
    5, // P2
    6, // SL1
    7, // SL2
    8, // VBAT
    9, // RTC_BAT
};

static const stm32_adc_t _ADC_adc[] = {
  {
    ADC1,
    DMA2,
    LL_DMA_CHANNEL_0,
    LL_DMA_STREAM_4,
    DMA2_Stream4_IRQn,
    _ADC_MAIN_channels,
    0,
    10,
    LL_ADC_SAMPLINGTIME_28CYCLES
  },
};

static const stm32_spi_adc_t _ADC_spi[] = {
};

extern "C" void DMA2_Stream4_IRQHandler (void)
{
  stm32_hal_adc_dma_isr(&_ADC_adc[0]);
}

extern "C" void ADC_IRQHandler()
{
  stm32_hal_adc_isr(&_ADC_adc[0]);
 
}

#if defined(STM32H7)
extern "C" void ADC3_IRQHandler()
{
  stm32_hal_adc_isr(&_ADC_adc[0]);
 
}
#endif

static const uint32_t _ADC_GPIOA_pins[] = {
    LL_GPIO_PIN_2,
    LL_GPIO_PIN_3,
    LL_GPIO_PIN_5,
};

static const uint32_t _ADC_GPIOB_pins[] = {
    LL_GPIO_PIN_0,
};

static const uint32_t _ADC_GPIOC_pins[] = {
    LL_GPIO_PIN_0,
};

static const stm32_adc_gpio_t _ADC_GPIOs[] = {
  { GPIOA, _ADC_GPIOA_pins, 3 },
  { GPIOB, _ADC_GPIOB_pins, 1 },
  { GPIOC, _ADC_GPIOC_pins, 1 },
};
